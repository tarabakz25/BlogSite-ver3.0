---
import Header from '../components/Header.astro'
import Works from '../components/WorksIntro.astro'
import Footer from '../components/Footer.astro'
import SkillsBox from '../components/SkillsBox.astro'
import ContactBox from '../components/ContactBox.astro'
import { Image } from 'astro:assets';

const title_font = "krok";
const description_font = "Zen Old Mincho";
const program_font = "Anonymous pro";

const color1 = "#EC3A7D"
const color2 = "#1E1434"
---
<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+1p&family=Zen+Old+Mincho&display=swap" rel="stylesheet">
    <title>Kanikan Lab.</title>
    <script>
        (function(d) {
        var config = {
            kitId: 'aan1vqp',
            scriptTimeout: 3000,
            async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);
    </script>
        <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-E447BSCFR8"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-E447BSCFR8');
    </script>
</head>

<body>
    <div class="loading-screen" id="loading-screen">
        <video autoplay muted id="loading-video" class="loading-video">
            <source src="src/assets/Lottielab Loading.mp4" type="video/mp4">
        </video>
    </div>
    <div class="background"></div>
    <Header />
    <div class="title">
        <h1>Kanikan Lab.</h1>
        <p>Portfolio site</p>
    </div>
    <div class="about">
        <h1>About</h1>
        <div class="container">
            <img src="src/assets/Vector.svg" alt="Vector Illustration">
            <div class="content">
                <h1>Kizuki Aiki</h1>
                <h2>相木 絆煌</h2>
                <p>2008年東京出身,神山まるごと高等専門学校一期生.</p>
                <p>このサイトの製作者. テクノロジー,AI,アウトドアを追及中.</p>
            </div>
        </div>
    </div>
    <div class="works">
        <h1>Works</h1>
        <div class="container">
            <Works worksImg="src/assets/LINE_ALBUM_kmcxhitoto_241101_2 4.png" worksTitle="hitoto x kmc" worksDescription="高専祭大型ワークショップ" />
            <Works worksImg="src/assets/max 1.png" worksTitle="AdobeMAX 2023" worksDescription="AdobeMAX2023にて初参加の作品" />
        </div>
    </div> 
    <div class="skills">
        <h1>Skills</h1>
        <div class="container">
            <div class="programming">
                <h2>Programming</h2>
                <div class="container">
                    <div class="languages">
                        <h3>Languages</h3>
                        <SkillsBox skillName="Python" />
                        <SkillsBox skillName="JavaScript" />
                        <SkillsBox skillName="HTML/CSS" />
                        <SkillsBox skillName="C++" />
                        <SkillsBox skillName="swift" />
                    </div>
                    <div class="frameworks">
                        <h3>Frameworks</h3>
                        <SkillsBox skillName="Flask" />
                        <SkillsBox skillName="Node.js" />
                        <SkillsBox skillName="Three.js" />
                        <SkillsBox skillName="astro" />
                        <SkillsBox skillName="swiftUI" />
                    </div>
                </div>
            </div>
            <div class="tools">
                <h2>Tools</h2>
                <SkillsBox skillName="Github" />
                <SkillsBox skillName="Arc" />
                <SkillsBox skillName="raycast" />
                <SkillsBox skillName="Stable Diffusion" />
            </div>
            <div class="design">
                <h2>Design</h2>
                <SkillsBox skillName="Figma" />
                <SkillsBox skillName="illustrator" />
                <SkillsBox skillName="Photoshop" />
                <SkillsBox skillName="Filmora" />
            </div>
        </div>
    </div>
    <div class="contact">
        <h2>Contact</h2>
        <div class="container">
            <ContactBox contactName="X" contactLink="https://x.com/kz25_kmc" />
            <ContactBox contactName="Instagram" contactLink="https://www.instagram.com/kizu25_01/" />
            <ContactBox contactName="Github" contactLink="https://github.com/tarabakz25" />
        </div>
    </div>
    <Footer />
</body>

<style define:vars={{title_font, description_font, color1, color2, program_font}}>
    *, *::before, *::after {
        box-sizing: border-box;
    }

    body {
        margin: 0;
        padding: 0;
        background-color: var(--color2);
        overflow-x: hidden; /* 横スクロールを防止 */
        overflow-y: hidden; /* 縦スクロールを防止 */
    }
    .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--color2);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: opacity 1s ease; /* ディゾルブアニメーションを追加 */
    }
    .loading-screen.fade-out {
        opacity: 0;
        pointer-events: none;
    }
    .loading-video {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }
    .title {
        width: 100%;
        height: calc(100vh - 50px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: relative;
        padding-left: 50px;
        z-index: 1;
    }
    .title h1 {
        color: white;
        text-align: left;
        font-family: var(--title_font);
        font-weight: 400;
        font-style: normal;
        font-size: 80px;
        margin: 0;
        padding-bottom: 20px;
    }
    .title p {
        color: white;
        text-align: left;
        font-family: var(--title_font);
        font-weight: 400;
        font-style: normal;
        font-size: 25px;
        margin: 0;
    }
    .about {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        padding-left: 50px;
        position: relative;
        z-index: 1;
        background-color: rgba(30, 20, 52, 0.9);
    }
    .about h1 {
        padding: 70px 0;
        color: white;
        text-align: left;
        font-family: var(--title_font);
        font-weight: 400;
        font-style: normal;
        font-size: 80px;
        margin: 0;
    }
    .about h1::first-letter {
        color: var(--color1);
    }
    .about .container {
        width: 100%;
        height: 600px;
        display: flex;
        align-items: flex-start;
        justify-content: center; /* 真ん中に配置 */
    }
    .about .container img {
        width: 300px; /* 希望する幅に変更 */
        height: auto;
        max-width: 100%;
        margin: 20px; 
        flex-shrink: 0;
    }
    .about .container .content {
        color: white;
        font-family: var(--title_font);
        font-weight: 400;
        font-style: normal;
        padding-left: 100px;
    }
    .about .container .content h1 {
        font-size: 96px;
        padding: 0;
    }
    .about .container .content h2 {
        font-size: 32px;
        margin: 0;
        padding-bottom: 60px;
        font-family: var(--description_font);
    }
    .about .container .content p {
        line-height: 1.5;
        margin: 0;
        padding-bottom: 20px;
        font-size: 18px;
        font-family: var(--description_font);
    }
    .works {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        position: relative;
        z-index: 1;
        background-color: #fff;
    }
    .works h1 {
        padding: 70px 0;
        color: black;
        text-align: left;
        font-family: var(--title_font);
        font-weight: 400;
        font-style: normal;
        font-size: 80px;
        margin-left: 50px;
    }
    .works h1::first-letter {
        color: var(--color1);
    }
    .works .container {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        padding-bottom: 70px;
    }
    .skills {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        position: relative;
        z-index: 1;
        background-color: var(--color2);
    }
    .skills h1 {
        padding: 70px 0;
        color: white;
        text-align: left;
        font-family: var(--title_font);
        font-weight: 400;
        font-style: normal;
        font-size: 80px;
        padding-left: 50px;
        letter-spacing: 0.1em;
    }
    .skills h1::first-letter {
        color: var(--color1);
    }
    .skills .container {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        padding-bottom: 70px;
    }
    .skills .container .programming h2 {
        color: white;
        font-family: var(--program_font);
        font-weight: 400;
        font-size: 48px;
        margin: 0 auto; /* 真ん中に配置 */
        padding: 20px 0;
        text-align: center; /* テキストを中央揃え */
    }

    .skills .container .programming .container {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: row; /* 横に並べる */
        align-items: flex-start;
        justify-content: space-around; /* 均等に配置 */
        position: relative;
        padding-bottom: 70px;
    }

    .skills .container .programming .languages,
    .skills .container .programming .frameworks {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .skills .container .programming .languages h3,
    .skills .container .programming .frameworks h3 {
        color: white;
        font-family: var(--program_font);
        font-weight: 400;
        font-size: 24px;
        margin-bottom: 20px;
    }

    .skills .container .programming .languages .SkillsBox,
    .skills .container .programming .frameworks .SkillsBox {
        border: 1px solid white;
        padding: 10px 20px;
        margin-bottom: 10px;
        width: 200px;
        text-align: center;
        color: white;
        font-family: var(--program_font);
        font-weight: 400;
        font-size: 18px;
    }
    .skills .container .tools,
    .skills .container .design {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 40px; /* マージンを追加 */
    }

    .skills .container .tools h2,
    .skills .container .design h2 {
        color: white;
        font-family: var(--program_font);
        font-weight: 400;
        font-size: 48px;
        margin: 0 auto; /* 真ん中に配置 */
        padding-bottom: 20px;
        text-align: center; /* テキストを中央揃え */
    }

    .skills .container .tools .SkillsBox,
    .skills .container .design .SkillsBox {
        border: 1px solid white;
        padding: 10px 20px;
        margin-bottom: 10px;
        width: 200px;
        text-align: center;
        color: white;
        font-family: var(--program_font);
        font-weight: 400;
        font-size: 18px;
    }
    .contact {
        width: 100%;
        height: 500px;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 100px 0; /* マージンをパディングに変更 */
        background-color: var(--color2);
        opacity: 0.8;
    }

    .contact h2 {
        color: white;
        font-family: var(--program_font);
        font-weight: 400;
        font-size: 48px;
        margin: 0 auto; /* 真ん中に配置 */
        padding-bottom: 20px;
        text-align: center; /* テキストを中央揃え */
    }
    .contact .container {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    .contact .container .ContactBox {
        border: 1px solid white;
        padding: 10px 20px;
        margin-bottom: 10px;
        width: 200px;
        text-align: center;
        color: white;
        font-family: var(--program_font);
        font-weight: 400;
        font-size: 18px;
    }

    @media (max-width: 768px) {
        .about .container img {
            width: 100%; /* モバイルデバイス用 */
            max-width: 300px;
            margin-right: 10px;
        }
        .title h1 {
            font-size: 60px;
        }
        .title p {
            font-size: 20px;
        }
        .about h1 {
            font-size: 60px;
            padding: 50px 0;
        }
    }
</style>

<script type="module">
    import { initVantaGlobe } from "/public/scripts/vanta";
    initVantaGlobe();
</script>

<script type="module">
    const video = document.getElementById('loading-video');
    const loadingScreen = document.getElementById('loading-screen');

    video.addEventListener('ended', () => {
        loadingScreen.classList.add('fade-out');
        document.body.style.overflowY = 'auto'; // スクロールを再度有効にする
    });

    window.addEventListener('load', () => {
        // Ensure the loading screen is removed after the fade-out animation
        loadingScreen.addEventListener('transitionend', () => {
            loadingScreen.style.display = 'none';
        });
    });
</script>